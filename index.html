<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recovery Tracker</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide-react/0.263.1/lucide-react.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Recovery Tracker">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iNDAiIGZpbGw9IiNEQzI2MjYiLz4KPHN2ZyB4PSI0MCIgeT0iNDAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPgo8cGF0aCBkPSJtMyA5IDktNyA5IDd2MTFhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ6Ii8+CjxwYXRoIGQ9Im05IDIyVjEyaDZWMjIiLz4KPC9zdmc+Cjwvc3ZnPgo=" />
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Home, Dumbbell, Activity, Droplets, Calendar, CheckCircle2, Circle, Plus, Minus } = lucide;

        const RecoveryTrackerApp = () => {
            const [currentPage, setCurrentPage] = useState('home');
            const [dailyData, setDailyData] = useState({
                exercises: [],
                painLevel: null,
                painNotes: '',
                waterIntake: 0,
                date: new Date().toDateString()
            });

            // Recovery exercises data
            const exercises = [
                {
                    id: 1,
                    name: "Gentle Hip Circles",
                    description: "Lying on back, slowly circle leg 10 times each direction",
                    targetArea: "Hip Labrum",
                    completed: false
                },
                {
                    id: 2,
                    name: "Clamshells",
                    description: "Side-lying, lift top knee while keeping feet together. 10-15 reps",
                    targetArea: "Hip Labrum",
                    completed: false
                },
                {
                    id: 3,
                    name: "Glute Bridges",
                    description: "Lying on back, lift hips up gently. Hold 5 seconds, 10 reps",
                    targetArea: "Hip/Knee Support",
                    completed: false
                },
                {
                    id: 4,
                    name: "Straight Leg Raises",
                    description: "Lying down, lift straight leg slowly. 10 reps each leg",
                    targetArea: "Knee Meniscus",
                    completed: false
                },
                {
                    id: 5,
                    name: "Heel Slides",
                    description: "Lying down, slowly slide heel toward buttocks and back. 10 reps",
                    targetArea: "Knee Meniscus",
                    completed: false
                },
                {
                    id: 6,
                    name: "Gentle Cat-Cow Stretch",
                    description: "On hands and knees, arch and round back gently. 10 movements",
                    targetArea: "Overall Mobility",
                    completed: false
                },
                {
                    id: 7,
                    name: "Seated Hip Flexor Stretch",
                    description: "Seated, bring ankle to opposite knee, lean forward gently. Hold 30 seconds",
                    targetArea: "Hip Labrum",
                    completed: false
                },
                {
                    id: 8,
                    name: "Wall Sits (Modified)",
                    description: "Back against wall, slide down slightly. Hold 15-30 seconds",
                    targetArea: "Knee Support",
                    completed: false
                }
            ];

            // Initialize exercises in daily data
            useEffect(() => {
                if (dailyData.exercises.length === 0) {
                    setDailyData(prev => ({
                        ...prev,
                        exercises: exercises.map(ex => ({ ...ex, completed: false }))
                    }));
                }
            }, []);

            const toggleExercise = (exerciseId) => {
                setDailyData(prev => ({
                    ...prev,
                    exercises: prev.exercises.map(ex => 
                        ex.id === exerciseId ? { ...ex, completed: !ex.completed } : ex
                    )
                }));
            };

            const updatePainLevel = (level) => {
                setDailyData(prev => ({ ...prev, painLevel: level }));
            };

            const updatePainNotes = (notes) => {
                setDailyData(prev => ({ ...prev, painNotes: notes }));
            };

            const addWater = () => {
                setDailyData(prev => ({ ...prev, waterIntake: prev.waterIntake + 1 }));
            };

            const removeWater = () => {
                setDailyData(prev => ({ ...prev, waterIntake: Math.max(0, prev.waterIntake - 1) }));
            };

            // Navigation component
            const Navigation = () => (
                <div className="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-red-500 via-blue-500 to-red-500 border-t-4 border-yellow-400 px-4 py-2 shadow-lg">
                    <div className="flex justify-around">
                        {[
                            { id: 'home', icon: Home, label: 'Home' },
                            { id: 'exercises', icon: Dumbbell, label: 'Exercises' },
                            { id: 'pain', icon: Activity, label: 'Pain' },
                            { id: 'water', icon: Droplets, label: 'Water' }
                        ].map(({ id, icon: Icon, label }) => (
                            <button
                                key={id}
                                onClick={() => setCurrentPage(id)}
                                className={`flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${
                                    currentPage === id 
                                        ? 'bg-yellow-400 text-red-700 shadow-md transform scale-105' 
                                        : 'text-white hover:text-yellow-300 hover:bg-white hover:bg-opacity-20'
                                }`}
                            >
                                <Icon size={20} />
                                <span className="text-xs mt-1 font-semibold">{label}</span>
                            </button>
                        ))}
                    </div>
                </div>
            );

            // Home page
            const HomePage = () => {
                const completedExercises = dailyData.exercises.filter(ex => ex.completed).length;
                const totalExercises = dailyData.exercises.length;
                
                return (
                    <div className="p-6 pb-24">
                        <div className="text-center mb-8">
                            <h1 className="text-3xl font-bold text-red-600 mb-2 drop-shadow-md">ğŸª Recovery Tracker ğŸª</h1>
                            <div className="flex items-center justify-center text-blue-700 font-semibold bg-white bg-opacity-70 rounded-full px-4 py-2 shadow-md">
                                <Calendar size={18} className="mr-2" />
                                <span>{dailyData.date}</span>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 gap-6">
                            {/* Exercises Summary */}
                            <div className="bg-white rounded-2xl shadow-lg p-6 border-4 border-red-500 relative overflow-hidden aspect-square flex flex-col justify-center">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-red-500 via-yellow-400 to-blue-500"></div>
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-xl font-bold text-red-600">ğŸ‹ï¸ Exercises</h3>
                                    <Dumbbell size={24} className="text-red-500" />
                                </div>
                                <div className="flex items-center mb-3">
                                    <div className="flex-1 mr-3">
                                        <div className="bg-gray-200 rounded-full h-4 border-2 border-yellow-400">
                                            <div 
                                                className="bg-gradient-to-r from-red-500 to-blue-500 h-full rounded-full transition-all duration-500"
                                                style={{ width: `${totalExercises > 0 ? (completedExercises / totalExercises) * 100 : 0}%` }}
                                            ></div>
                                        </div>
                                    </div>
                                    <span className="text-lg font-bold text-blue-600">
                                        {completedExercises}/{totalExercises}
                                    </span>
                                </div>
                                {completedExercises === totalExercises && totalExercises > 0 && (
                                    <div className="flex items-center justify-center text-green-600 font-bold">
                                        <CheckCircle2 size={24} className="mr-2" />
                                        <span>Complete! ğŸ‰</span>
                                    </div>
                                )}
                            </div>

                            {/* Pain Tracking Summary */}
                            <div className="bg-white rounded-2xl shadow-lg p-6 border-4 border-blue-500 relative overflow-hidden aspect-square flex flex-col justify-center">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500"></div>
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-xl font-bold text-blue-600">ğŸ’¢ Pain Level</h3>
                                    <Activity size={24} className="text-blue-500" />
                                </div>
                                <div className="flex items-center justify-center">
                                    {dailyData.painLevel !== null ? (
                                        <div className="text-center">
                                            <span className="text-4xl font-bold text-red-600 block">
                                                {dailyData.painLevel}/10
                                            </span>
                                            <div className="flex items-center justify-center mt-2 text-green-600 font-bold">
                                                <CheckCircle2 size={20} className="mr-2" />
                                                <span>Recorded! ğŸ“</span>
                                            </div>
                                        </div>
                                    ) : (
                                        <span className="text-yellow-600 font-semibold text-center">
                                            ğŸ¤” Not recorded today
                                        </span>
                                    )}
                                </div>
                            </div>

                            {/* Water Intake Summary */}
                            <div className="bg-white rounded-2xl shadow-lg p-6 border-4 border-yellow-400 relative overflow-hidden aspect-square flex flex-col justify-center">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-yellow-400 via-blue-500 to-red-500"></div>
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-xl font-bold text-yellow-600">ğŸ’§ Water</h3>
                                    <Droplets size={24} className="text-blue-500" />
                                </div>
                                <div className="text-center">
                                    <span className="text-4xl font-bold text-blue-600 block">
                                        {dailyData.waterIntake}
                                    </span>
                                    <span className="text-sm text-blue-500 font-semibold">glasses today</span>
                                    {dailyData.waterIntake >= 8 && (
                                        <div className="flex items-center justify-center mt-2 text-green-600 font-bold">
                                            <CheckCircle2 size={20} className="mr-2" />
                                            <span>Goal reached! ğŸ¯</span>
                                        </div>
                                    )}
                                </div>
                                <div className="mt-4">
                                    <div className="bg-gray-200 rounded-full h-3 border-2 border-blue-400">
                                        <div 
                                            className="bg-gradient-to-r from-blue-500 to-yellow-400 h-full rounded-full transition-all duration-500"
                                            style={{ width: `${Math.min((dailyData.waterIntake / 8) * 100, 100)}%` }}
                                        ></div>
                                    </div>
                                    <span className="text-xs text-blue-500 mt-1 block text-center font-medium">Goal: 8 glasses</span>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // Exercises page
            const ExercisesPage = () => (
                <div className="p-6 pb-24">
                    <div className="text-center mb-6">
                        <h1 className="text-3xl font-bold text-red-600 mb-2">ğŸª Recovery Exercises</h1>
                        <p className="text-blue-700 font-semibold bg-white bg-opacity-70 rounded-full px-4 py-2 shadow-md">
                            Gentle exercises for hip labrum and knee meniscus recovery
                        </p>
                    </div>
                    
                    <div className="space-y-4">
                        {dailyData.exercises.map((exercise) => (
                            <div key={exercise.id} className="bg-white rounded-2xl shadow-lg p-4 border-l-8 border-red-500 hover:shadow-xl transition-shadow">
                                <div className="flex items-start">
                                    <button
                                        onClick={() => toggleExercise(exercise.id)}
                                        className="mr-3 mt-1 transform hover:scale-110 transition-transform"
                                    >
                                        {exercise.completed ? (
                                            <CheckCircle2 size={28} className="text-green-500" />
                                        ) : (
                                            <Circle size={28} className="text-yellow-500 hover:text-green-500" />
                                        )}
                                    </button>
                                    <div className="flex-1">
                                        <h3 className={`text-lg font-bold ${exercise.completed ? 'text-green-600 line-through' : 'text-blue-600'}`}>
                                            {exercise.name}
                                        </h3>
                                        <span className="inline-block bg-gradient-to-r from-yellow-400 to-red-500 text-white text-sm px-3 py-1 rounded-full mb-2 font-semibold shadow-md">
                                            {exercise.targetArea}
                                        </span>
                                        <p className="text-gray-700 text-sm leading-relaxed">{exercise.description}</p>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            // Pain tracking page
            const PainPage = () => (
                <div className="p-6 pb-24">
                    <div className="text-center mb-6">
                        <h1 className="text-3xl font-bold text-red-600 mb-2">ğŸª Pain Tracking</h1>
                    </div>
                    
                    <div className="space-y-6">
                        <div className="bg-white rounded-2xl shadow-lg p-6 border-4 border-blue-500">
                            <h3 className="text-xl font-bold text-blue-600 mb-4 text-center">Rate your pain level (0-10)</h3>
                            <div className="grid grid-cols-6 gap-2 mb-4">
                                {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((level) => (
                                    <button
                                        key={level}
                                        onClick={() => updatePainLevel(level)}
                                        className={`w-12 h-12 rounded-xl border-4 font-bold text-lg transition-all transform hover:scale-110 ${
                                            dailyData.painLevel === level
                                                ? level <= 3 ? 'bg-green-500 text-white border-green-600 shadow-lg scale-110'
                                                  : level <= 6 ? 'bg-yellow-500 text-white border-yellow-600 shadow-lg scale-110'
                                                  : 'bg-red-500 text-white border-red-600 shadow-lg scale-110'
                                                : 'border-yellow-400 text-blue-600 hover:border-red-500 bg-white shadow-md'
                                        }`}
                                    >
                                        {level}
                                    </button>
                                ))}
                            </div>
                            <div className="text-sm font-semibold grid grid-cols-3 text-center">
                                <span className="text-green-600">ğŸ˜Š No Pain (0-3)</span>
                                <span className="text-yellow-600">ğŸ˜ Moderate (4-6)</span>
                                <span className="text-red-600">ğŸ˜£ Severe (7-10)</span>
                            </div>
                        </div>

                        <div className="bg-white rounded-2xl shadow-lg p-6 border-4 border-yellow-400">
                            <h3 className="text-xl font-bold text-yellow-600 mb-4 text-center">ğŸ“ Pain Notes</h3>
                            <textarea
                                value={dailyData.painNotes}
                                onChange={(e) => updatePainNotes(e.target.value)}
                                placeholder="Describe location, triggers, or any observations about your pain today..."
                                className="w-full h-32 p-3 border-4 border-red-300 rounded-xl resize-none focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500 text-gray-700"
                            />
                        </div>

                        {dailyData.painLevel !== null && (
                            <div className="bg-gradient-to-r from-green-100 to-blue-100 rounded-2xl p-4 border-4 border-green-400">
                                <div className="flex items-center text-green-600 mb-2">
                                    <CheckCircle2 size={24} className="mr-2" />
                                    <span className="font-bold text-lg">ğŸ‰ Pain level recorded!</span>
                                </div>
                                <p className="text-blue-700 font-semibold">
                                    Current pain level: <strong className="text-red-600 text-xl">{dailyData.painLevel}/10</strong>
                                </p>
                            </div>
                        )}
                    </div>
                </div>
            );

            // Water tracking page
            const WaterPage = () => (
                <div className="p-6 pb-24">
                    <div className="text-center mb-6">
                        <h1 className="text-3xl font-bold text-blue-600 mb-2">ğŸª Water Intake</h1>
                    </div>
                    
                    <div className="space-y-6">
                        <div className="bg-white rounded-2xl shadow-lg p-8 text-center border-4 border-blue-500">
                            <div className="text-8xl mb-4 font-bold text-blue-600 drop-shadow-lg">{dailyData.waterIntake}</div>
                            <p className="text-xl text-red-600 font-bold mb-6">glasses of water today ğŸ’§</p>
                            
                            <div className="flex justify-center space-x-4 mb-6">
                                <button
                                    onClick={removeWater}
                                    disabled={dailyData.waterIntake === 0}
                                    className="bg-red-500 hover:bg-red-600 disabled:bg-gray-300 text-white p-4 rounded-full transition-all transform hover:scale-110 shadow-lg border-4 border-yellow-400"
                                >
                                    <Minus size={28} />
                                </button>
                                <button
                                    onClick={addWater}
                                    className="bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white p-6 rounded-full transition-all transform hover:scale-110 text-6xl shadow-xl border-4 border-yellow-400"
                                >
                                    ğŸ’§
                                </button>
                                <button
                                    onClick={addWater}
                                    className="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full transition-all transform hover:scale-110 shadow-lg border-4 border-yellow-400"
                                >
                                    <Plus size={28} />
                                </button>
                            </div>

                            <div className="bg-gray-200 rounded-full h-6 mb-2 border-4 border-red-400">
                                <div 
                                    className="bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500 h-full rounded-full transition-all duration-500"
                                    style={{ width: `${Math.min((dailyData.waterIntake / 8) * 100, 100)}%` }}
                                ></div>
                            </div>
                            <p className="text-lg font-bold text-yellow-600">
                                Goal: 8 glasses per day {dailyData.waterIntake >= 8 && 'ğŸ¯âœ…'}
                            </p>
                        </div>

                        <div className="grid grid-cols-4 gap-3">
                            {Array.from({ length: 12 }, (_, i) => (
                                <div
                                    key={i}
                                    className={`text-5xl text-center p-3 rounded-2xl border-4 transition-all ${
                                        i < dailyData.waterIntake 
                                            ? 'bg-gradient-to-br from-blue-100 to-blue-200 border-blue-400 shadow-lg transform scale-105' 
                                            : 'bg-white border-yellow-300 opacity-50'
                                    }`}
                                >
                                    ğŸ’§
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const renderCurrentPage = () => {
                switch (currentPage) {
                    case 'home': return <HomePage />;
                    case 'exercises': return <ExercisesPage />;
                    case 'pain': return <PainPage />;
                    case 'water': return <WaterPage />;
                    default: return <HomePage />;
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-red-50 via-blue-50 to-yellow-50 relative overflow-hidden">
                    {/* Circus tent background pattern */}
                    <div className="absolute inset-0 opacity-10">
                        <div className="absolute top-10 left-10 w-20 h-20 border-4 border-red-500 rounded-full"></div>
                        <div className="absolute top-32 right-16 w-16 h-16 border-4 border-blue-500 rounded-full"></div>
                        <div className="absolute top-64 left-1/4 w-12 h-12 border-4 border-yellow-500 rounded-full"></div>
                        <div className="absolute bottom-96 right-1/4 w-14 h-14 border-4 border-red-500 rounded-full"></div>
                        <div className="absolute bottom-64 left-12 w-18 h-18 border-4 border-blue-500 rounded-full"></div>
                        {/* Tent stripes */}
                        <div className="absolute top-0 left-0 w-full h-full">
                            <div className="absolute top-20 left-0 w-full h-1 bg-gradient-to-r from-red-200 via-blue-200 to-yellow-200"></div>
                            <div className="absolute top-40 left-0 w-full h-1 bg-gradient-to-r from-yellow-200 via-red-200 to-blue-200"></div>
                            <div className="absolute top-60 left-0 w-full h-1 bg-gradient-to-r from-blue-200 via-yellow-200 to-red-200"></div>
                        </div>
                    </div>
                    <div className="relative z-10">
                        {renderCurrentPage()}
                        <Navigation />
                    </div>
                </div>
            );
        };

        ReactDOM.render(<RecoveryTrackerApp />, document.getElementById('root'));
    </script>
</body>
</html>
